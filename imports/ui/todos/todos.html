<template name="todos">
    <div class="container">
        <header>
            <h1>
                {{#if i18nLoaded}}
                    {{i18n "list.title"}} ({{incompleteCount}})
                {{else}}
                    {{> loading}}
                {{/if}}
            </h1>

            <div class="d-flex justify-content-between align-items-center">
                <div class="form-check my-2">
                    <input id="hide-completed-check"
                           class="form-check-input"
                           type="checkbox"
                           value="">
                    <label class="form-check-label"
                           for="hide-completed-check">
                        {{#if i18nLoaded}}
                            {{i18n "list.hideCompleted"}}
                        {{else}}
                            {{> loading}}
                        {{/if}}
                    </label>
                </div>
                {{> loginButtons}}
            </div>

            {{#if currentUser}}
                <form class="new-task my-2">
                    <input type="text" name="text"
                           placeholder="{{#if i18nLoaded}}{{i18n "list.typeToAdd"}}{{/if}}"
                           class="form-control"/>
                </form>
            {{/if}}

        </header>

        {{#unless isSubReady}}
            {{> loading title="list.loading"}}
        {{else}}
            <ul class="list-group my-2" id="task-list">
                {{#each tasks}}
                    {{> task this}}
                {{/each}}
            </ul>
        {{/unless}}
    </div>
</template>